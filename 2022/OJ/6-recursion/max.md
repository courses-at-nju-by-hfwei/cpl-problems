# 最大值区间 (max.c)

## 题目描述

给出一个长度为 $n$ 的序列 $a_1, a_2, \cdots, a_n$，保证**所有的 $a_i$ 都互不相同**。我们定义$a_p$ 的最大值区间为最长的$[s, t](s \leqslant p\leqslant t)$，满足 $\forall q \in [s, t], q\in\mathbb{N*} .\ a_p \geqslant a_q$，即 $a_p$ 是数列在该下标区间上的最大值，其具体计算方法如下：

* 对于区间 $[l, r]$，找出其最大值所在的位置 $p$，最大值为$a_p$，则我们认为$a_p$的最大值区间为$[l, r]$。
* 删去元素$a_p$，原序列变成两个新的序列$[l, p - 1]$和$[p + 1, r]$（也有可能$p = l \lor p = r$，此时只有一个新序列；也有可能$l = r$，想想此时会发生什么？），继续对产生的新序列执行上一步操作。
* 容易发现，每进行一次“删数”的操作，原序列中就会减少 1 个数，当进行 $n$ 次操作之后，序列为空，此时就得到了所有$a_i$的 最大值区间 。
* 特别的，我们认为$[1, n]$中的最大值$a_p$的最大值区间为$[1, n]$。

请你找出给出的序列中所有数的 最大值区间 。

## 输入格式

输入一共包含两行。

第一行为一个整数 $n(1 \leq n \leq 10^5)$， 表示序列长度。

第二行为 $n$ 个整数$a_1, a_2, \cdots, a_n(1 \leq a_i \leq 10^9)$，分别表示序列中的每一个数，保证所有的 $a_i$ 互不相同，且数据纯随机生成。

## 输出格式

输出一共包含 $n$ 行，每行两个整数$l_i, r_i$，第 $i$ 行的输出表示 $a_i$ 的最大值区间为$[l_i, r_i]$ 。

## 备注

提示：

1. 我们的评测机内存不够开下一个 $arr[10^9]$ 这么大的 $\text{int}$ 数组，大多数同学的本机也不够。我知道大家对于桶计数法有比较深刻的理解，但是请不要在这题中使用桶计数法来求区间中的最大值。
2. 与上课讲过的归并排序类似，如果说 `mergesort(l, r)` 可以处理 $[l, r]$ 下标的排序问题，在本题中也可以使用 `maxseg(l, r)` 来求得 $[l, r]$ 下标中所有数的最大值区间，你可以使用一个数组 `ans[N][2]` (`[2]`的意思是答案是一个区间，需要保存左端点和右端点，你也可以对答案采取不同的表示)来保存所有答案，在递归的过程中不断补充填上某个 `ans[i]` ，直到所有的答案都被求出。
3. 本题存在一个简单的（我卡不掉的）非递归做法，但更希望大家可以思考怎么使用递归方法解决。

## 示例

### 示例输入1

```text
5
1 3 5 2 4
```

### 示例输出1

```text
1 1
1 2
1 5
4 4
4 5
```

### 示例输入2

```text
6
508753540 511698990 20731611 707259821 864772696 507416561
```

### 示例输出2

```text
1 1
1 3
3 3
1 4
1 6
6 6
```